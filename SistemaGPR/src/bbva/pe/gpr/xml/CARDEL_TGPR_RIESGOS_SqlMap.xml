<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CARDEL_TGPR_RIESGOS" >

	<select id="getMontoSinRating" resultClass="string" parameterClass="bbva.pe.gpr.bean.Solicitud">
  	select carrie.fn_rsg_montomaximo_x_usuario(#gestorCod:VARCHAR#, #grupoPersona:VARCHAR#) as mtoMaxDelegacion from dual
	</select>

	<select id="getMontoRating" resultClass="string" parameterClass="bbva.pe.gpr.bean.Solicitud">
  	select carrie.carriersgpkg.FN_RSG_MONTO_X_ESCALAUSERIO(#gestorCod:VARCHAR#, #grupoPersona:VARCHAR#) from dual
	</select>
	
	<select id="getLstProductoPersonaNatural" resultClass="bbva.pe.gpr.bean.ProductoDelegacion" parameterClass="bbva.pe.gpr.bean.Solicitud">
  	select carrie.carriersgpkg.fn_rsg_limite_prod_x_userio(#gestorCod:VARCHAR#, #grupoPersona:VARCHAR#)as mtoMaxDelegacion  from dual
	</select>

	<select id="getMontoDelegacionUsuario" resultClass="string" parameterClass="bbva.pe.gpr.bean.Solicitud">
  	select carrie.carriersgpkg.fn_rsg_montomaximo_x_usuario(#gestorCod:VARCHAR#, #grupoPersona:VARCHAR#) as mtoMaxDelegacion from dual
	</select>
<!-- 	de la tabla cardel y darles permisos -->
	<select id="getJefeInmediatoOficina" resultClass="string" parameterClass="string">
		SELECT  cod_funcionario_superior 
		FROM 	CARDEL.TCARDEL_GERENTE 
		WHERE   COD_REGISTRO=#value#
	 </select>
<!--     modificar carrie -->
	<select id="getJefeInmediatoRiesgo" resultClass="string" parameterClass="string">
		SELECT  cod_funcionario_superior 
		FROM 	CARDEL.TRSG_GERENTE 
		WHERE   COD_REGISTRO=#value#
	 </select>
</sqlMap>